{"version":3,"file":"main.js","mappings":";;;;;;;;;;AAAA,IAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAa;AACrC,IAAMC,KAAK,GAAGH,MAAM,CAACI,YAAY,CAAC,YAAY,CAAC;AAC/C,IAAMC,GAAG,GAAGJ,QAAQ,CAACK,cAAc,CAAC,MAAM,GAAGH,KAAK,CAAC;AAEnD,IAAMI,EAAE,GAAG,EAAE;EAAEC,EAAE,GAAG,EAAE;AACtB,IAAMC,MAAM,GAAG,CAAC;AAChB,IAAMC,cAAc,GAAG,EAAE;AACzB,IAAMC,SAAS,GAAG,EAAE;AACpB,IAAMC,WAAW,GAAG,EAAE;AAEtB,IAAIC,MAAM,GAAG,EAAE;AACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,MAAM,EAAEK,CAAC,EAAE,EAAE;EAC/B,IAAMC,CAAC,GAAIJ,SAAS,GAAGF,MAAM,IAAKK,CAAC,GAAG,CAAC,CAAC;EACxC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,cAAc,EAAEM,CAAC,EAAE,EAAE;IACvC,IAAMC,KAAK,GAAID,CAAC,GAAGN,cAAc,GAAI,CAAC,GAAGQ,IAAI,CAACC,EAAE;IAChD,IAAMC,CAAC,GAAGb,EAAE,GAAGQ,CAAC,GAAGG,IAAI,CAACG,GAAG,CAACJ,KAAK,CAAC;IAClC,IAAMK,CAAC,GAAGd,EAAE,GAAGO,CAAC,GAAGG,IAAI,CAACK,GAAG,CAACN,KAAK,CAAC;IAClC,IAAMO,GAAG,GAAGvB,QAAQ,CAACwB,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC;IAC5ED,GAAG,CAACE,YAAY,CAAC,GAAG,EAAE,CAAC,CAAC;IACxBF,GAAG,CAACE,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC;IACjCrB,GAAG,CAACsB,WAAW,CAACH,GAAG,CAAC;IACpBX,MAAM,CAACe,IAAI,CAAC;MAAER,CAAC,EAADA,CAAC;MAAEE,CAAC,EAADA,CAAC;MAAEP,CAAC,EAADA,CAAC;MAAEE,KAAK,EAALA,KAAK;MAAEO,GAAG,EAAHA;IAAI,CAAC,CAAC;EACtC;AACF;AAEA,IAAIK,KAAK,GAAG;EAAET,CAAC,EAAEb,EAAE;EAAEe,CAAC,EAAEd;AAAG,CAAC;;AAE5B;AACA,IAAIsB,MAAM,GAAG,EAAE;;AAEf;AACAzB,GAAG,CAAC0B,gBAAgB,CAAC,WAAW,EAAE,UAAAC,CAAC,EAAI;EAErC,IAAMC,IAAI,GAAG5B,GAAG,CAAC6B,qBAAqB,CAAC,CAAC;EACxC,IAAMC,MAAM,GAAG,GAAG,GAAGF,IAAI,CAACG,KAAK;EAC/B,IAAMC,MAAM,GAAG,GAAG,GAAGJ,IAAI,CAACK,MAAM;EAChCT,KAAK,CAACT,CAAC,GAAG,CAACY,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,IAAI,IAAIL,MAAM;EAC1CN,KAAK,CAACP,CAAC,GAAG,CAACU,CAAC,CAACS,OAAO,GAAGR,IAAI,CAACS,GAAG,IAAIL,MAAM;AAC3C,CAAC,CAAC;;AAEF;AACAhC,GAAG,CAAC0B,gBAAgB,CAAC,OAAO,EAAE,UAAAC,CAAC,EAAI;EACjC,IAAMC,IAAI,GAAG5B,GAAG,CAAC6B,qBAAqB,CAAC,CAAC;EACxC,IAAMC,MAAM,GAAG,GAAG,GAAGF,IAAI,CAACG,KAAK;EAC/B,IAAMC,MAAM,GAAG,GAAG,GAAGJ,IAAI,CAACK,MAAM;EAChC,IAAMK,EAAE,GAAG,CAACX,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,IAAI,IAAIL,MAAM;EAC3C,IAAMS,EAAE,GAAG,CAACZ,CAAC,CAACS,OAAO,GAAGR,IAAI,CAACS,GAAG,IAAIL,MAAM;EAC1CP,MAAM,CAACF,IAAI,CAAC;IAAER,CAAC,EAAEuB,EAAE;IAAErB,CAAC,EAAEsB,EAAE;IAAEC,MAAM,EAAE,CAAC;IAAElC,SAAS,EAAE,EAAE;IAAEmC,KAAK,EAAE;EAAE,CAAC,CAAC;AACnE,CAAC,CAAC;;AAEF;AACA,SAASC,IAAIA,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,KAAK,EAAEC,OAAO,EAAE;EAC5C,IAAMC,CAAC,GAAGrD,QAAQ,CAACwB,eAAe,CAAC,4BAA4B,EAAE,MAAM,CAAC;EACxE6B,CAAC,CAAC5B,YAAY,CAAC,IAAI,EAAEsB,EAAE,GAAG,GAAG,CAAC;EAC9BM,CAAC,CAAC5B,YAAY,CAAC,IAAI,EAAEuB,EAAE,GAAG,GAAG,CAAC;EAC9BK,CAAC,CAAC5B,YAAY,CAAC,IAAI,EAAEwB,EAAE,GAAG,GAAG,CAAC;EAC9BI,CAAC,CAAC5B,YAAY,CAAC,IAAI,EAAEyB,EAAE,GAAG,GAAG,CAAC;EAC9BG,CAAC,CAAC5B,YAAY,CAAC,QAAQ,EAAE0B,KAAK,CAAC;EAC/BE,CAAC,CAAC5B,YAAY,CAAC,gBAAgB,EAAE2B,OAAO,CAAC;EACzCC,CAAC,CAAC5B,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC;EACnCrB,GAAG,CAACsB,WAAW,CAAC2B,CAAC,CAAC;AACpB;;AAEA;AACA,SAASC,eAAeA,CAACC,IAAI,EAAEC,OAAO,EAAE;EACtC,IAAMC,CAAC,GAAGxC,IAAI,CAACyC,GAAG,CAAC,CAAC,EAAEzC,IAAI,CAAC0C,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGJ,IAAI,GAAGC,OAAO,CAAC,CAAC;EACtD,IAAMI,GAAG,GAAG,GAAG,GAAGH,CAAC,GAAG,GAAG;EACzB,IAAMI,KAAK,GAAG,EAAE,GAAGJ,CAAC,GAAG,EAAE;EACzB,cAAAK,MAAA,CAAcF,GAAG,cAAAE,MAAA,CAAWD,KAAK;AACnC;AAEA,IAAIJ,CAAC,GAAG,CAAC;AACT,SAASM,OAAOA,CAAA,EAAG;EACjBN,CAAC,IAAI,IAAI;EACTO,kBAAA,CAAI5D,GAAG,CAAC6D,gBAAgB,CAAC,MAAM,CAAC,EAAEC,OAAO,CAAC,UAAAb,CAAC;IAAA,OAAIA,CAAC,CAACc,MAAM,CAAC,CAAC;EAAA,EAAC;;EAE1D;EACAvD,MAAM,CAACsD,OAAO,CAAC,UAAAE,CAAC,EAAI;IAClB,IAAMC,MAAM,GAAGpD,IAAI,CAACK,GAAG,CAACmC,CAAC,GAAGW,CAAC,CAACtD,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;IAC3C,IAAMwD,KAAK,GAAGF,CAAC,CAACpD,KAAK,GAAGyC,CAAC,GAAG,GAAG;IAC/BW,CAAC,CAACjD,CAAC,GAAGb,EAAE,GAAG,CAAC8D,CAAC,CAACtD,CAAC,GAAGuD,MAAM,IAAIpD,IAAI,CAACG,GAAG,CAACkD,KAAK,CAAC;IAC3CF,CAAC,CAAC/C,CAAC,GAAGd,EAAE,GAAG,CAAC6D,CAAC,CAACtD,CAAC,GAAGuD,MAAM,IAAIpD,IAAI,CAACK,GAAG,CAACgD,KAAK,CAAC;EAC7C,CAAC,CAAC;;EAEF;EACA,KAAK,IAAIvD,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGH,MAAM,CAAC2D,MAAM,EAAExD,EAAC,EAAE,EAAE;IACtC,KAAK,IAAIF,EAAC,GAAGE,EAAC,GAAG,CAAC,EAAEF,EAAC,GAAGD,MAAM,CAAC2D,MAAM,EAAE1D,EAAC,EAAE,EAAE;MAC1C,IAAM2D,EAAE,GAAG5D,MAAM,CAACG,EAAC,CAAC,CAACI,CAAC,GAAGP,MAAM,CAACC,EAAC,CAAC,CAACM,CAAC;MACpC,IAAMsD,EAAE,GAAG7D,MAAM,CAACG,EAAC,CAAC,CAACM,CAAC,GAAGT,MAAM,CAACC,EAAC,CAAC,CAACQ,CAAC;MACpC,IAAMqD,CAAC,GAAGzD,IAAI,CAAC0D,IAAI,CAACH,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC;MACtC,IAAIC,CAAC,GAAG/D,WAAW,EAAE;QACnB,IAAMyC,OAAO,GAAG,CAAC,GAAGsB,CAAC,GAAG/D,WAAW;QACnC,IAAMiE,CAAC,GAAGtB,eAAe,CAACoB,CAAC,EAAE/D,WAAW,CAAC;QACzCmC,IAAI,CAAClC,MAAM,CAACG,EAAC,CAAC,CAACI,CAAC,EAAEP,MAAM,CAACG,EAAC,CAAC,CAACM,CAAC,EAAET,MAAM,CAACC,EAAC,CAAC,CAACM,CAAC,EAAEP,MAAM,CAACC,EAAC,CAAC,CAACQ,CAAC,EAAEuD,CAAC,EAAExB,OAAO,GAAG,GAAG,CAAC;MAC5E;IACF;EACF;;EAEA;EACAxC,MAAM,CAACsD,OAAO,CAAC,UAAAE,CAAC,EAAI;IAElB;IACA,IAAMS,GAAG,GAAGjD,KAAK,CAACT,CAAC,GAAGiD,CAAC,CAACjD,CAAC;IACzB,IAAM2D,GAAG,GAAGlD,KAAK,CAACP,CAAC,GAAG+C,CAAC,CAAC/C,CAAC;IACzB,IAAM0D,SAAS,GAAG9D,IAAI,CAAC0D,IAAI,CAACE,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG,CAAC;;IAElD;IACA,IAAIE,WAAW,GAAG,CAAC;IAEnBnD,MAAM,CAACqC,OAAO,CAAC,UAAAe,KAAK,EAAI;MACtB,IAAMT,EAAE,GAAGS,KAAK,CAAC9D,CAAC,GAAGiD,CAAC,CAACjD,CAAC;MACxB,IAAMsD,EAAE,GAAGQ,KAAK,CAAC5D,CAAC,GAAG+C,CAAC,CAAC/C,CAAC;MACxB,IAAMqD,CAAC,GAAGzD,IAAI,CAAC0D,IAAI,CAACH,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC;MACtC,IAAIC,CAAC,GAAGO,KAAK,CAACrC,MAAM,EAAE;QACpBoC,WAAW,GAAG/D,IAAI,CAACyC,GAAG,CAACsB,WAAW,EAAE,CAAC,GAAGN,CAAC,GAAGO,KAAK,CAACrC,MAAM,CAAC;MAC3D;IACF,CAAC,CAAC;IAEF,IAAMO,KAAK,GAAGG,eAAe,CAACyB,SAAS,EAAE,EAAE,CAAC;IAC5CX,CAAC,CAAC7C,GAAG,CAACE,YAAY,CAAC,MAAM,EAAEuD,WAAW,GAAG,CAAC,GAAG,eAAe,IAAI,EAAE,GAAGA,WAAW,GAAC,EAAE,CAAC,GAAG,IAAI,GAAG7B,KAAK,CAAC;IACpGiB,CAAC,CAAC7C,GAAG,CAACE,YAAY,CAAC,GAAG,EAAE,CAAC,GAAGR,IAAI,CAACyC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGqB,SAAS,GAAG,EAAE,CAAC,GAAG,GAAG,GAAGC,WAAW,GAAG,GAAG,CAAC;IACtFZ,CAAC,CAAC7C,GAAG,CAACE,YAAY,CAAC,IAAI,EAAE2C,CAAC,CAACjD,CAAC,GAAG,GAAG,CAAC;IACnCiD,CAAC,CAAC7C,GAAG,CAACE,YAAY,CAAC,IAAI,EAAE2C,CAAC,CAAC/C,CAAC,GAAG,GAAG,CAAC;EACrC,CAAC,CAAC;;EAEF;EACAQ,MAAM,CAACqC,OAAO,CAAC,UAAAE,CAAC,EAAI;IAClBA,CAAC,CAACxB,MAAM,IAAIwB,CAAC,CAACvB,KAAK;EACrB,CAAC,CAAC;EACFhB,MAAM,GAAGA,MAAM,CAACqD,MAAM,CAAC,UAAAd,CAAC;IAAA,OAAIA,CAAC,CAACxB,MAAM,GAAGwB,CAAC,CAAC1D,SAAS;EAAA,EAAC;EAEnDyE,qBAAqB,CAACpB,OAAO,CAAC;AAChC;AAEAA,OAAO,CAAC,CAAC,C","sources":["webpack://poeticsoft.com/./src/svgscript/pattern/main.js"],"sourcesContent":["const script = document.currentScript\r\nconst svgid = script.getAttribute('data-svgid')\r\nconst svg = document.getElementById('svg_' + svgid)\r\n\r\nconst cx = 50, cy = 50;\r\nconst layers = 4;\r\nconst pointsPerLayer = 10;\r\nconst maxRadius = 40;\r\nconst connectDist = 12;\r\n\r\nlet points = [];\r\nfor (let j = 0; j < layers; j++) {\r\n  const r = (maxRadius / layers) * (j + 1);\r\n  for (let i = 0; i < pointsPerLayer; i++) {\r\n    const angle = (i / pointsPerLayer) * 2 * Math.PI;\r\n    const x = cx + r * Math.cos(angle);\r\n    const y = cy + r * Math.sin(angle);\r\n    const dot = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\r\n    dot.setAttribute(\"r\", 2);\r\n    dot.setAttribute(\"fill\", \"white\");\r\n    svg.appendChild(dot);\r\n    points.push({ x, y, r, angle, dot });\r\n  }\r\n}\r\n\r\nlet mouse = { x: cx, y: cy };\r\n\r\n// Pulso de energía\r\nlet pulses = [];\r\n\r\n// Escalar coordenadas del ratón\r\nsvg.addEventListener(\"mousemove\", e => {\r\n\r\n  const rect = svg.getBoundingClientRect();\r\n  const scaleX = 100 / rect.width;\r\n  const scaleY = 100 / rect.height;\r\n  mouse.x = (e.clientX - rect.left) * scaleX;\r\n  mouse.y = (e.clientY - rect.top) * scaleY;\r\n});\r\n\r\n// Clic genera pulso\r\nsvg.addEventListener(\"click\", e => {\r\n  const rect = svg.getBoundingClientRect();\r\n  const scaleX = 100 / rect.width;\r\n  const scaleY = 100 / rect.height;\r\n  const px = (e.clientX - rect.left) * scaleX;\r\n  const py = (e.clientY - rect.top) * scaleY;\r\n  pulses.push({ x: px, y: py, radius: 0, maxRadius: 30, speed: 1 });\r\n});\r\n\r\n// Crear línea SVG\r\nfunction line(x1, y1, x2, y2, color, opacity) {\r\n  const l = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\r\n  l.setAttribute(\"x1\", x1 + '%');\r\n  l.setAttribute(\"y1\", y1 + '%');\r\n  l.setAttribute(\"x2\", x2 + '%');\r\n  l.setAttribute(\"y2\", y2 + '%');\r\n  l.setAttribute(\"stroke\", color);\r\n  l.setAttribute(\"stroke-opacity\", opacity);\r\n  l.setAttribute(\"stroke-width\", 0.1);\r\n  svg.appendChild(l);\r\n}\r\n\r\n// Color dinámico\r\nfunction colorByDistance(dist, maxDist) {\r\n  const t = Math.max(0, Math.min(1, 1 - dist / maxDist));\r\n  const hue = 200 + t * 100;\r\n  const light = 40 + t * 40;\r\n  return `hsl(${hue}, 100%, ${light}%)`;\r\n}\r\n\r\nlet t = 0;\r\nfunction animate() {\r\n  t += 0.01;\r\n  [...svg.querySelectorAll(\"line\")].forEach(l => l.remove());\r\n\r\n  // Actualizar posiciones\r\n  points.forEach(p => {\r\n    const offset = Math.sin(t + p.r * 0.05) * 2;\r\n    const theta = p.angle + t * 0.3;\r\n    p.x = cx + (p.r + offset) * Math.cos(theta);\r\n    p.y = cy + (p.r + offset) * Math.sin(theta);\r\n  });\r\n\r\n  // Dibujar líneas entre puntos cercanos\r\n  for (let i = 0; i < points.length; i++) {\r\n    for (let j = i + 1; j < points.length; j++) {\r\n      const dx = points[i].x - points[j].x;\r\n      const dy = points[i].y - points[j].y;\r\n      const d = Math.sqrt(dx * dx + dy * dy);\r\n      if (d < connectDist) {\r\n        const opacity = 1 - d / connectDist;\r\n        const c = colorByDistance(d, connectDist);\r\n        line(points[i].x, points[i].y, points[j].x, points[j].y, c, opacity * 0.5);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Actualizar puntos según ratón y pulsos\r\n  points.forEach(p => {\r\n\r\n    // Atracción al ratón\r\n    const dxm = mouse.x - p.x;\r\n    const dym = mouse.y - p.y;\r\n    const distMouse = Math.sqrt(dxm * dxm + dym * dym);\r\n\r\n    // Pulso\r\n    let pulseEffect = 0;\r\n\r\n    pulses.forEach(pulse => {\r\n      const dx = pulse.x - p.x;\r\n      const dy = pulse.y - p.y;\r\n      const d = Math.sqrt(dx * dx + dy * dy);\r\n      if (d < pulse.radius) {\r\n        pulseEffect = Math.max(pulseEffect, 1 - d / pulse.radius);\r\n      }\r\n    });\r\n\r\n    const color = colorByDistance(distMouse, 20);\r\n    p.dot.setAttribute(\"fill\", pulseEffect > 0 ? \"hsl(320,100%,\" + (60 + pulseEffect*40) + \"%)\" : color);\r\n    p.dot.setAttribute(\"r\", 1 + Math.max(0, 1 - distMouse / 20) * 1.2 + pulseEffect * 1.5);\r\n    p.dot.setAttribute(\"cx\", p.x + '%');\r\n    p.dot.setAttribute(\"cy\", p.y + '%');\r\n  });\r\n\r\n  // Actualizar pulsos\r\n  pulses.forEach(p => {\r\n    p.radius += p.speed;\r\n  });\r\n  pulses = pulses.filter(p => p.radius < p.maxRadius);\r\n\r\n  requestAnimationFrame(animate);\r\n}\r\n\r\nanimate();"],"names":["script","document","currentScript","svgid","getAttribute","svg","getElementById","cx","cy","layers","pointsPerLayer","maxRadius","connectDist","points","j","r","i","angle","Math","PI","x","cos","y","sin","dot","createElementNS","setAttribute","appendChild","push","mouse","pulses","addEventListener","e","rect","getBoundingClientRect","scaleX","width","scaleY","height","clientX","left","clientY","top","px","py","radius","speed","line","x1","y1","x2","y2","color","opacity","l","colorByDistance","dist","maxDist","t","max","min","hue","light","concat","animate","_toConsumableArray","querySelectorAll","forEach","remove","p","offset","theta","length","dx","dy","d","sqrt","c","dxm","dym","distMouse","pulseEffect","pulse","filter","requestAnimationFrame"],"sourceRoot":""}